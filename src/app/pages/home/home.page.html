<ion-content fullscreen padding>
  <ion-list scroll="false" no-padding>
    <ion-list-header>
      <ion-input class="file-search" #searchInput="ngModel" [(ngModel)]="search" name="search" type="search"
        placeholder="{{ 'searchFile' | translate }}..."></ion-input>
    </ion-list-header>

    <ion-item lines="none">
      <ion-checkbox [(ngModel)]="searchFromBookmark" name="SearchFromBookmark" (ngModelChange)="searchUpdate()">
      </ion-checkbox>&nbsp;
      <ion-label>{{ 'searchFromBookmarks' | translate }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label>{{ 'searchFromCategory' | translate }}</ion-label>
      <ion-select [(ngModel)]="selectedCategory" name="Category" [interfaceOptions]="customAlertOptions"
        interface="alert" okText="{{ 'select' | translate }}" cancelText="{{ 'cancel' | translate }}"
        (ionChange)="searchUpdate()">
        <ion-select-option [value]="cat" *ngFor="let cat of categoryList">{{ cat.name }}</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item *ngFor="let file of searchedFiles" (click)="viewFile(file)">
      <ion-label>
        <h2 class="file">
          {{file?._source?.title}}
          <span class="category" *ngIf="file?._source?.categoryId">
            {{ file._source.categoryId | categoryPipe : categoryList }}
          </span>
          <span class="file-icon" (click)="$event.stopPropagation()">
            <ion-icon name="download-outline" (click)="$event.stopPropagation();downloadFile(file)"></ion-icon>
          </span>
          <span class="file-icon" (click)="$event.stopPropagation()">
            <ion-icon name="star-outline" (click)="$event.stopPropagation();bookmarkFile(file)"></ion-icon>
          </span>
        </h2>
        <p class="keyword-list">
          <span class="keywords" *ngFor="let keyWord of file?.highlight?.text" [innerHTML]="keyWord"></span>
          <span class="page-no">{{'pageNo' | translate}} {{file?._source?.location}}</span>
        </p>
      </ion-label>
    </ion-item>

  </ion-list>
</ion-content>